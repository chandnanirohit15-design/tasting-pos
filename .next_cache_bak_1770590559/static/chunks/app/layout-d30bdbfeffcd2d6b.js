(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4550:function(e,t,n){Promise.resolve().then(n.bind(n,4310)),Promise.resolve().then(n.t.bind(n,8877,23)),Promise.resolve().then(n.bind(n,8954)),Promise.resolve().then(n.bind(n,1459)),Promise.resolve().then(n.bind(n,4774))},8954:function(e,t,n){"use strict";n.d(t,{default:function(){return b}});var r=n(7437),i=n(7138),s=n(6463),o=n(2265),c=n(4774),a=n(4310),l=n(1459);function d(e){let{label:t,active:n,onClick:i}=e;return(0,r.jsx)("button",{onClick:i,className:["px-3 py-1.5 rounded-md text-xs font-black tracking-wide border transition",n?"bg-amber-500 text-black border-amber-400":"bg-zinc-900 text-zinc-300 border-zinc-800 hover:bg-zinc-800"].join(" "),children:t})}function u(e){let{href:t,title:n,subtitle:s,onClick:o}=e;return(0,r.jsxs)(i.default,{href:t,onClick:o,className:"block rounded-xl border border-zinc-800 bg-zinc-950 hover:bg-zinc-900/60 p-4 transition",children:[(0,r.jsx)("div",{className:"text-white font-black text-sm",children:n}),s?(0,r.jsx)("div",{className:"text-xs text-zinc-500 mt-1",children:s}):null]})}function b(){let e=(0,s.usePathname)(),t=(0,s.useRouter)(),{role:n,setRole:i,kitchenAuthed:b}=(0,c.q)(),{lanStatus:h,lanMode:x}=(0,a.mr)(),{t:m}=(0,l.Q)(),[f,N]=o.useState(!1),[v,C]=o.useState("—"),[k,g]=o.useState(!1);o.useEffect(()=>{N(!0);let e=()=>{C(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]);let j=o.useMemo(()=>e.startsWith("/reservations")?"reservations":e.startsWith("/dashboard")?"dashboard":e.startsWith("/room")?"room":e.startsWith("/kitchen")?"kitchen":"dashboard",[e]),p=o.useCallback(e=>{if("kitchen"===e){i("KITCHEN"),t.push(b?"/kitchen":"/kitchen/login");return}if("room"===e){i("ROOM"),t.push("/room");return}t.push("reservations"===e?"/reservations":"/dashboard")},[t,i,b]),z="OFF"===x?m("LAN OFF","LAN OFF"):"CONNECTED"===h?"HOST"===x?m("LAN HOST","LAN HOST"):m("LAN OK","LAN OK"):"CONNECTING"===h?m("LAN CONNECTING","LAN CONNECTING"):m("LAN DISCONNECTED","LAN DISCONNECTED");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:"h-14 flex items-center justify-between px-6 border-b border-zinc-800 bg-zinc-950",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>g(!0),className:"h-9 w-9 rounded-md border border-zinc-800 bg-zinc-950 hover:bg-zinc-900 text-zinc-200 flex items-center justify-center","aria-label":m("Open","Open"),children:"☰"}),(0,r.jsx)("div",{className:"text-white font-black tracking-tight",children:"Restaurant OS"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d,{label:m("Reservations","Reservations"),active:"reservations"===j,onClick:()=>p("reservations")}),(0,r.jsx)(d,{label:m("Dashboard","Dashboard"),active:"dashboard"===j,onClick:()=>p("dashboard")}),(0,r.jsx)(d,{label:m("Room","Room"),active:"room"===j,onClick:()=>p("room")}),(0,r.jsx)(d,{label:m("Kitchen","Kitchen"),active:"kitchen"===j,onClick:()=>p("kitchen")})]})]}),(0,r.jsxs)("div",{className:"text-xs text-zinc-400 font-medium hidden md:block",children:["KITCHEN"===n?m("Kitchen","Kitchen"):m("Room","Room")," • ",m("Service Control Panel","Service Control Panel")]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>t.push("/device"),className:"focus:outline-none",children:(0,r.jsx)("div",{className:"px-3 py-1.5 rounded-xl border text-[10px] font-black ".concat("OFF"===x?"border-zinc-800 bg-black/40 text-zinc-400":"CONNECTED"===h?"border-emerald-500/50 bg-emerald-500/10 text-emerald-200":"CONNECTING"===h?"border-amber-500/50 bg-amber-500/10 text-amber-200":"border-red-700/60 bg-red-900/20 text-red-200"),children:z})}),(0,r.jsx)("div",{className:"text-xs font-mono text-zinc-400 tabular-nums",children:f?v:"—"})]})]}),k?(0,r.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:()=>g(!1)}),(0,r.jsxs)("div",{className:"absolute left-0 top-0 h-full w-[360px] border-r border-zinc-800 bg-zinc-950 p-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-white font-black",children:m("Menu","Menu")}),(0,r.jsx)("button",{onClick:()=>g(!1),className:"px-3 py-1.5 rounded-md text-xs font-black border border-zinc-800 bg-zinc-900 text-zinc-200 hover:bg-zinc-800",children:m("Close","Close")})]}),(0,r.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,r.jsx)(u,{href:"/settings",title:m("Settings","Settings"),subtitle:m("General configuration","General configuration"),onClick:()=>g(!1)}),(0,r.jsx)(u,{href:"/device",title:m("Device Setup","Device Setup"),subtitle:m("Role + pairing code","Role + pairing code"),onClick:()=>g(!1)}),(0,r.jsx)(u,{href:"/settings/accounts",title:m("Accounts","Accounts"),subtitle:m("Add staff accounts (UI placeholder)","Add staff accounts (UI placeholder)"),onClick:()=>g(!1)}),(0,r.jsx)(u,{href:"/settings/account",title:m("My Account","My Account"),subtitle:m("Your profile & device info (UI placeholder)","Your profile & device info (UI placeholder)"),onClick:()=>g(!1)})]}),(0,r.jsx)("div",{className:"mt-6 text-[11px] text-zinc-500",children:m("UI-first build. Database/security later.","UI-first build. Database/security later.")})]})]}):null]})}},4774:function(e,t,n){"use strict";n.d(t,{RoleProvider:function(){return o},q:function(){return c}});var r=n(7437),i=n(2265);let s=i.createContext(null);function o(e){let{children:t}=e,[n,o]=i.useState("ROOM"),[c,a]=i.useState(!1);return(0,r.jsx)(s.Provider,{value:{role:n,setRole:o,kitchenAuthed:c,setKitchenAuthed:a},children:t})}function c(){let e=i.useContext(s);if(!e)throw Error("useRole must be used inside RoleProvider");return e}},6463:function(e,t,n){"use strict";var r=n(1169);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},8877:function(){}},function(e){e.O(0,[404,138,459,310,971,23,744],function(){return e(e.s=4550)}),_N_E=e.O()}]);