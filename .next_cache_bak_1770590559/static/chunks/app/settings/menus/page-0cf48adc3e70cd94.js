(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{3274:function(e,s,n){Promise.resolve().then(n.bind(n,4806))},4806:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c}});var i=n(7437),t=n(2265),r=n(7188),l=n(1459);function a(e){let{children:s,onClick:n}=e;return(0,i.jsx)("button",{onClick:n,className:"px-3 py-2 rounded-xl text-xs font-black border border-zinc-800 bg-zinc-950 text-zinc-200 hover:bg-zinc-900",children:s})}function c(){var e;let{t:s}=(0,l.Q)(),[n,c]=t.useState((0,r.ri)()),[d,o]=t.useState((null===(e=n.menus[0])||void 0===e?void 0:e.id)||""),[u,m]=t.useState(""),x=n.menus.find(e=>e.id===d)||n.menus[0],b=(null==x?void 0:x.courses)||[],h=e=>{c(e),(0,r.zQ)(e)};t.useEffect(()=>{if(!n.menus.find(e=>e.id===d)){var e;o((null===(e=n.menus[0])||void 0===e?void 0:e.id)||"")}},[n.menus,d]);let f=(e,s)=>{if(!x)return;let i=n.menus.map(n=>n.id===e?{...n,...s}:n);h({...n,menus:i})},g=(e,s)=>{let n=[...b],i=e+s;i<0||i>=n.length||([n[e],n[i]]=[n[i],n[e]],f(x.id,{courses:n}))},v=e=>{let s=b.filter((s,n)=>n!==e);f(x.id,{courses:s})},p=e=>{h({...n,subsPresets:n.subsPresets.filter((s,n)=>n!==e)})};return(0,i.jsxs)("div",{className:"h-full w-full bg-[#0f0f12] p-6 overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-end justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-2xl font-black text-white",children:s("Edit Menu","Edit Menu")}),(0,i.jsx)("div",{className:"text-zinc-400 mt-1 text-sm",children:s("This affects Room + Kitchen immediately (offline local).","This affects Room + Kitchen immediately (offline local).")})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{onClick:()=>{let e={id:(0,r.hQ)("menu"),label:s("New Menu","New Menu"),courses:[]};h({...n,menus:[...n.menus,e]}),o(e.id)},className:"px-4 py-2 rounded-xl text-xs font-black border transition bg-zinc-950 text-zinc-200 border-zinc-800 hover:bg-zinc-900",children:s("+ MENU","+ MENU")}),(0,i.jsx)("button",{onClick:()=>{var e;if(n.menus.length<=1)return;let s=n.menus.filter(e=>e.id!==x.id);h({...n,menus:s}),o((null===(e=s[0])||void 0===e?void 0:e.id)||"")},disabled:n.menus.length<=1,className:["px-4 py-2 rounded-xl text-xs font-black border transition",n.menus.length<=1?"bg-zinc-900 text-zinc-500 border-zinc-800 cursor-not-allowed":"bg-zinc-950 text-zinc-200 border-zinc-800 hover:bg-zinc-900"].join(" "),children:s("DELETE MENU","DELETE MENU")})]})]}),(0,i.jsxs)("div",{className:"mt-6 grid grid-cols-12 gap-5",children:[(0,i.jsxs)("div",{className:"col-span-7 rounded-2xl border border-zinc-800 bg-zinc-950/40 overflow-hidden",children:[(0,i.jsxs)("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-950 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"text-sm font-black text-white",children:[s("Courses","Courses")," — ",(null==x?void 0:x.label)||s("Menu","Menu")]}),(0,i.jsxs)("div",{className:"text-xs text-zinc-500",children:[b.length," ",s("courses","courses")]})]}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"text-xs font-black text-zinc-300 mb-2",children:s("Menu name (shows in Room)","Menu name (shows in Room)")}),(0,i.jsx)("input",{value:(null==x?void 0:x.label)||"",onChange:e=>f(x.id,{label:e.target.value}),className:"w-full rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none focus:border-amber-500/80",placeholder:s("Classic / Seasonal / Vegetarian…","Classic / Seasonal / Vegetarian…")})]}),(0,i.jsxs)("div",{className:"shrink-0",children:[(0,i.jsx)("div",{className:"text-xs font-black text-zinc-300 mb-2",children:s("MENU","MENU")}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:n.menus.map(e=>(0,i.jsx)("button",{onClick:()=>o(e.id),className:["px-3 py-2 rounded-xl text-xs font-black border transition",e.id===(null==x?void 0:x.id)?"bg-amber-500 text-black border-amber-400":"bg-zinc-950 text-zinc-200 border-zinc-800 hover:bg-zinc-900"].join(" "),children:e.label||s("Menu","Menu")},e.id))})]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{value:u,onChange:e=>m(e.target.value),placeholder:s("Add new course…","Add new course…"),className:"flex-1 rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none focus:border-amber-500/80"}),(0,i.jsx)(a,{onClick:()=>{let e=u.trim();e&&(f(x.id,{courses:[...b,e]}),m(""))},children:s("ADD","ADD")})]}),(0,i.jsxs)("div",{className:"mt-4 space-y-2",children:[b.map((e,n)=>(0,i.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-black/40 px-3 py-3 flex items-center justify-between gap-3",children:[(0,i.jsxs)("div",{className:"min-w-0",children:[(0,i.jsxs)("div",{className:"text-xs text-zinc-500 font-mono",children:["#",n+1]}),(0,i.jsx)("div",{className:"text-white font-black truncate",children:e})]}),(0,i.jsxs)("div",{className:"flex gap-2 shrink-0",children:[(0,i.jsx)(a,{onClick:()=>g(n,-1),children:"↑"}),(0,i.jsx)(a,{onClick:()=>g(n,1),children:"↓"}),(0,i.jsx)(a,{onClick:()=>v(n),children:s("DELETE","DELETE")})]})]},"".concat(e,"_").concat(n))),b.length?null:(0,i.jsx)("div",{className:"text-zinc-500 text-sm mt-4",children:s("No courses yet.","No courses yet.")})]})]})]}),(0,i.jsxs)("div",{className:"col-span-5 rounded-2xl border border-zinc-800 bg-zinc-950/40 overflow-hidden",children:[(0,i.jsxs)("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-950 flex items-center justify-between",children:[(0,i.jsx)("div",{className:"text-sm font-black text-white",children:s("Substitution presets","Substitution presets")}),(0,i.jsx)(a,{onClick:()=>{let e=prompt(s("New substitution preset?","New substitution preset?"));e&&h({...n,subsPresets:[...n.subsPresets,e.trim()]})},children:s("+ PRESET","+ PRESET")})]}),(0,i.jsx)("div",{className:"p-4 space-y-2",children:n.subsPresets.map((e,n)=>(0,i.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-black/40 px-3 py-3 flex items-center justify-between gap-3",children:[(0,i.jsx)("div",{className:"text-white font-bold truncate",children:e}),(0,i.jsx)(a,{onClick:()=>p(n),children:s("DELETE","DELETE")})]},"".concat(e,"_").concat(n)))})]})]})]})}},7188:function(e,s,n){"use strict";n.d(s,{$J:function(){return d},F:function(){return c},hQ:function(){return r},ri:function(){return l},zQ:function(){return a}});let i="tastingpos_settings_v1",t={version:1,menus:[{id:"m_a",label:"Classic",courses:["Amuse","Oyster","Tomato Water","Scallop","Caviar","Langoustine","Turbot","Pigeon","Pre-dessert","Chocolate","Mignardises"]},{id:"m_b",label:"Seasonal",courses:["Amuse","Gazpacho","Citrus","Foie Gras","Truffle Pasta","Lobster","Wagyu","Cheese","Pre-dessert","Apple","Mignardises"]}],tableLanguages:["ING","CAST","CAT"],dishPresets:["Vegetarian extra","Fish alternative","No dairy alternative","Gluten-free bread","Extra sauce","Extra garnish","Chef snack"],subsPresets:["Vegetarian Alternative","No Shellfish Alternative","No Dairy Alternative","Gluten-Free Alternative","Chef Special Substitute"],wines:[{id:"w1",name:"House Sparkling"},{id:"w2",name:"White Pairing 1"},{id:"w3",name:"Red Pairing 1"}],pairing:[{id:"p1",menuId:"m_a",wineId:"w1",fromIdx:1,toIdx:2}]};function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return"".concat(e,"_").concat(Math.random().toString(36).slice(2),"_").concat(Date.now().toString(16))}function l(){let e=localStorage.getItem(i);if(!e)return t;try{var s,n,r,l;let i=JSON.parse(e);if(!i||"object"!=typeof i)return t;let a=Array.isArray(i.menus)?i.menus:t.menus,c=Array.isArray(i.pairing)?i.pairing.map(e=>e.menuId?e:"A"===e.menu?{...e,menuId:"m_a"}:"B"===e.menu?{...e,menuId:"m_b"}:null).filter(Boolean):t.pairing;return{...t,...i,menus:a,tableLanguages:null!==(s=i.tableLanguages)&&void 0!==s?s:t.tableLanguages,dishPresets:null!==(n=i.dishPresets)&&void 0!==n?n:t.dishPresets,subsPresets:null!==(r=i.subsPresets)&&void 0!==r?r:t.subsPresets,wines:null!==(l=i.wines)&&void 0!==l?l:t.wines,pairing:c}}catch(e){return t}}function a(e){localStorage.setItem(i,JSON.stringify(e))}function c(e){return l().menus.find(s=>s.id===e)||null}function d(e,s){let n=l(),i=n.pairing.find(n=>n.menuId===e&&s>=n.fromIdx&&s<=n.toIdx);if(!i)return null;let t=n.wines.find(e=>e.id===i.wineId);return t?{wineName:t.name,ruleId:i.id}:null}}},function(e){e.O(0,[459,971,23,744],function(){return e(e.s=3274)}),_N_E=e.O()}]);