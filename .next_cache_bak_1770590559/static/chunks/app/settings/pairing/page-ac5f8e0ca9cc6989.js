(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{249:function(e,n,i){Promise.resolve().then(i.bind(i,6344))},6344:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return d}});var t=i(7437),s=i(2265),r=i(7188),a=i(1459);function l(e){let{children:n,onClick:i}=e;return(0,t.jsx)("button",{onClick:i,className:"px-3 py-2 rounded-xl text-xs font-black border border-zinc-800 bg-zinc-950 text-zinc-200 hover:bg-zinc-900",children:n})}function d(){var e,n;let{t:i}=(0,a.Q)(),[d,c]=s.useState((0,r.ri)()),[o,u]=s.useState((null===(e=d.menus[0])||void 0===e?void 0:e.id)||""),[x,m]=s.useState((null===(n=d.wines[0])||void 0===n?void 0:n.id)||""),[b,f]=s.useState(1),[h,g]=s.useState(2),v=e=>{c(e),(0,r.zQ)(e)};s.useEffect(()=>{if(!d.menus.find(e=>e.id===o)){var e;u((null===(e=d.menus[0])||void 0===e?void 0:e.id)||"")}},[d.menus,o]);let p=e=>v({...d,pairing:d.pairing.filter(n=>n.id!==e)}),w=d.menus.find(e=>e.id===o)||d.menus[0],N=(null==w?void 0:w.courses.length)||0,j=d.pairing.filter(e=>e.menuId===o).sort((e,n)=>e.fromIdx-n.fromIdx),z=e=>{var n;return(null===(n=d.wines.find(n=>n.id===e))||void 0===n?void 0:n.name)||i("Unknown","Unknown")};return(0,t.jsxs)("div",{className:"h-full w-full bg-[#0f0f12] p-6 overflow-y-auto",children:[(0,t.jsx)("div",{className:"text-2xl font-black text-white",children:i("Pairing (Maridaje)","Pairing (Maridaje)")}),(0,t.jsx)("div",{className:"text-zinc-400 mt-1 text-sm",children:i("Map a wine to a range of courses. FOH can preview wines; kitchen only sees “SLOW PACE”.","Map a wine to a range of courses. FOH can preview wines; kitchen only sees “SLOW PACE”.")}),(0,t.jsxs)("div",{className:"mt-6 flex gap-2",children:[d.menus.map(e=>(0,t.jsx)("button",{onClick:()=>u(e.id),className:["px-4 py-2 rounded-xl text-xs font-black border transition",o===e.id?"bg-amber-500 text-black border-amber-400":"bg-zinc-950 text-zinc-200 border-zinc-800 hover:bg-zinc-900"].join(" "),children:e.label||i("Menu","Menu")},e.id)),(0,t.jsxs)("div",{className:"ml-auto text-xs text-zinc-500",children:[N," ",i("courses","courses")]})]}),(0,t.jsxs)("div",{className:"mt-5 rounded-2xl border border-zinc-800 bg-zinc-950/40 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-950 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm font-black text-white",children:i("Add pairing rule","Add pairing rule")}),(0,t.jsx)("div",{className:"text-xs text-zinc-500",children:i("Range supports “1 wine for 2 dishes”","Range supports “1 wine for 2 dishes”")})]}),(0,t.jsxs)("div",{className:"p-4 flex flex-wrap gap-2 items-end",children:[(0,t.jsxs)("div",{className:"w-72",children:[(0,t.jsx)("div",{className:"text-xs font-black text-zinc-300 mb-2",children:i("WINE","WINE")}),(0,t.jsx)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none",children:d.wines.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,t.jsxs)("div",{className:"w-32",children:[(0,t.jsx)("div",{className:"text-xs font-black text-zinc-300 mb-2",children:i("FROM","FROM")}),(0,t.jsx)("input",{type:"number",value:b,min:1,max:Math.max(1,N),onChange:e=>f(parseInt(e.target.value||"1",10)),className:"w-full rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none"})]}),(0,t.jsxs)("div",{className:"w-32",children:[(0,t.jsx)("div",{className:"text-xs font-black text-zinc-300 mb-2",children:i("TO","TO")}),(0,t.jsx)("input",{type:"number",value:h,min:1,max:Math.max(1,N),onChange:e=>g(parseInt(e.target.value||"1",10)),className:"w-full rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none"})]}),(0,t.jsx)(l,{onClick:()=>{if(!x)return;let e={id:(0,r.hQ)("pair"),menuId:o,wineId:x,fromIdx:Math.max(1,Math.min(b,h)),toIdx:Math.max(1,Math.max(b,h))};v({...d,pairing:[e,...d.pairing]})},children:i("ADD RULE","ADD RULE")})]})]}),(0,t.jsxs)("div",{className:"mt-5 rounded-2xl border border-zinc-800 bg-zinc-950/40 overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-950 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm font-black text-white",children:[i("Rules","Rules")," — ",(null==w?void 0:w.label)||i("Menu","Menu")]}),(0,t.jsxs)("div",{className:"text-xs text-zinc-500",children:[j.length," ",i("rules","rules")]})]}),(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[j.map(e=>(0,t.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-black/40 px-3 py-3 flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"text-white font-black truncate",children:z(e.wineId)}),(0,t.jsxs)("div",{className:"text-xs text-zinc-500",children:[i("Courses","Courses")," ",e.fromIdx," → ",e.toIdx]})]}),(0,t.jsx)(l,{onClick:()=>p(e.id),children:i("DELETE","DELETE")})]},e.id)),j.length?null:(0,t.jsx)("div",{className:"text-zinc-500 text-sm",children:i("No rules yet.","No rules yet.")})]})]})]})}},7188:function(e,n,i){"use strict";i.d(n,{$J:function(){return c},F:function(){return d},hQ:function(){return r},ri:function(){return a},zQ:function(){return l}});let t="tastingpos_settings_v1",s={version:1,menus:[{id:"m_a",label:"Classic",courses:["Amuse","Oyster","Tomato Water","Scallop","Caviar","Langoustine","Turbot","Pigeon","Pre-dessert","Chocolate","Mignardises"]},{id:"m_b",label:"Seasonal",courses:["Amuse","Gazpacho","Citrus","Foie Gras","Truffle Pasta","Lobster","Wagyu","Cheese","Pre-dessert","Apple","Mignardises"]}],tableLanguages:["ING","CAST","CAT"],dishPresets:["Vegetarian extra","Fish alternative","No dairy alternative","Gluten-free bread","Extra sauce","Extra garnish","Chef snack"],subsPresets:["Vegetarian Alternative","No Shellfish Alternative","No Dairy Alternative","Gluten-Free Alternative","Chef Special Substitute"],wines:[{id:"w1",name:"House Sparkling"},{id:"w2",name:"White Pairing 1"},{id:"w3",name:"Red Pairing 1"}],pairing:[{id:"p1",menuId:"m_a",wineId:"w1",fromIdx:1,toIdx:2}]};function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return"".concat(e,"_").concat(Math.random().toString(36).slice(2),"_").concat(Date.now().toString(16))}function a(){let e=localStorage.getItem(t);if(!e)return s;try{var n,i,r,a;let t=JSON.parse(e);if(!t||"object"!=typeof t)return s;let l=Array.isArray(t.menus)?t.menus:s.menus,d=Array.isArray(t.pairing)?t.pairing.map(e=>e.menuId?e:"A"===e.menu?{...e,menuId:"m_a"}:"B"===e.menu?{...e,menuId:"m_b"}:null).filter(Boolean):s.pairing;return{...s,...t,menus:l,tableLanguages:null!==(n=t.tableLanguages)&&void 0!==n?n:s.tableLanguages,dishPresets:null!==(i=t.dishPresets)&&void 0!==i?i:s.dishPresets,subsPresets:null!==(r=t.subsPresets)&&void 0!==r?r:s.subsPresets,wines:null!==(a=t.wines)&&void 0!==a?a:s.wines,pairing:d}}catch(e){return s}}function l(e){localStorage.setItem(t,JSON.stringify(e))}function d(e){return a().menus.find(n=>n.id===e)||null}function c(e,n){let i=a(),t=i.pairing.find(i=>i.menuId===e&&n>=i.fromIdx&&n<=i.toIdx);if(!t)return null;let s=i.wines.find(e=>e.id===t.wineId);return s?{wineName:s.name,ruleId:t.id}:null}}},function(e){e.O(0,[459,971,23,744],function(){return e(e.s=249)}),_N_E=e.O()}]);