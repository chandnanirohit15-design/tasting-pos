(()=>{var e={};e.id=189,e.ids=[189],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},8417:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(272),s(2758),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["device",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,272)),"/Users/rohitchandnani/tasting-pos/app/device/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2758)),"/Users/rohitchandnani/tasting-pos/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/rohitchandnani/tasting-pos/app/device/page.tsx"],x="/device/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/device/page",pathname:"/device",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8687:(e,t,s)=>{Promise.resolve().then(s.bind(s,890))},890:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(326),r=s(7577),n=s(4854),i=s(579),o=s(2854);let l="tastingpos_device_role",c="tastingpos_pair_code",d="tastingpos_device_name",x="tastingpos_lan_mode",p="tastingpos_lan_host";function u(){let{t:e}=(0,o.Q)(),{role:t,setRole:s}=(0,n.q)(),{lanStatus:u}=(0,i.mr)(),[m,b]=r.useState(""),[g,h]=r.useState(""),[v,f]=r.useState("OFF"),[N,w]=r.useState("");r.useEffect(()=>{try{let e=localStorage.getItem(l);e&&s(e);let t=localStorage.getItem(c);t&&h(t);let a=localStorage.getItem(d);a&&b(a);let r=localStorage.getItem(x)||"OFF";f(r);let n=localStorage.getItem(p)||"";w(n)}catch{}},[]);let S=(e,t,s)=>{try{localStorage.setItem(l,e),localStorage.setItem(d,t),localStorage.setItem(c,s)}catch{}},j=(e,t)=>{try{localStorage.setItem(x,e),localStorage.setItem(p,t)}catch{}};return(0,a.jsxs)("div",{className:"p-6 max-w-3xl mx-auto",children:[a.jsx("div",{className:"text-2xl font-black text-white",children:e("Device Setup","Device Setup")}),a.jsx("div",{className:"text-sm text-zinc-400 mt-1",children:e("Offline-first. Later this pairing code will connect devices over local network.","Offline-first. Later this pairing code will connect devices over local network.")}),(0,a.jsxs)("div",{className:"mt-6 grid gap-4",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-950/40 p-5",children:[a.jsx("div",{className:"text-xs font-black text-zinc-300",children:e("DEVICE ROLE","DEVICE ROLE")}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[{label:"FOH",value:"ROOM"},{label:"KITCHEN",value:"KITCHEN"},{label:"ADMIN",value:"ADMIN"}].map(e=>a.jsx("button",{onClick:()=>{s(e.value),S(e.value,m,g)},className:["px-4 py-2 rounded-xl text-xs font-black border transition",t===e.value?"bg-amber-500 text-black border-amber-400":"bg-black/40 text-zinc-200 border-zinc-800 hover:bg-zinc-900/40"].join(" "),children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-950/40 p-5",children:[a.jsx("div",{className:"text-xs font-black text-zinc-300",children:e("DEVICE NAME","DEVICE NAME")}),a.jsx("input",{value:m,onChange:e=>{b(e.target.value),S(t||"ROOM",e.target.value,g)},placeholder:e("e.g. FOH iPad 1 / Pass Screen / Expo","e.g. FOH iPad 1 / Pass Screen / Expo"),className:"mt-3 w-full rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none focus:border-amber-500/80"})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-950/40 p-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs font-black text-zinc-300",children:e("PAIRING CODE","PAIRING CODE")}),a.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:e("Same code on all devices in the restaurant.","Same code on all devices in the restaurant.")})]}),a.jsx("button",{onClick:()=>{let e=Math.random().toString(36).slice(2,6).toUpperCase();h(e),S(t||"ROOM",m,e)},className:"px-4 py-2 rounded-xl text-xs font-black border border-zinc-800 bg-black/40 text-zinc-200 hover:bg-zinc-900/40",children:e("GENERATE","GENERATE")})]}),a.jsx("input",{value:g,onChange:e=>{let s=e.target.value.toUpperCase().slice(0,8);h(s),S(t||"ROOM",m,s)},placeholder:"ABCD",className:"mt-3 w-full rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none focus:border-amber-500/80 font-mono tracking-widest"})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-950/40 p-5",children:[a.jsx("div",{className:"text-xs font-black text-zinc-300",children:e("LAN SYNC","LAN SYNC")}),a.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:e("Offline sync over local network. One device is HOST, others are CLIENT.","Offline sync over local network. One device is HOST, others are CLIENT.")}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:["OFF","HOST","CLIENT"].map(t=>a.jsx("button",{onClick:()=>{if(f(t),"HOST"===t&&!N){let e="ws://localhost:3000/ws";w(e),j("HOST",e);return}j(t,N)},className:["px-4 py-2 rounded-xl text-xs font-black border transition",v===t?"bg-amber-500 text-black border-amber-400":"bg-black/40 text-zinc-200 border-zinc-800 hover:bg-zinc-900/40"].join(" "),children:e(t,t)},t))}),"OFF"!==v?(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs font-black text-zinc-300",children:e("HOST WS URL","HOST WS URL")}),a.jsx("input",{value:N,onChange:e=>{let t=e.target.value.trim();w(t),j(v,t)},placeholder:"ws://192.168.1.36:3000/ws",className:"mt-2 w-full rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-sm outline-none focus:border-amber-500/80 font-mono"}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-zinc-500",children:[e("Host must connect to its own websocket too. Example:","Host must connect to its own websocket too. Example:")," ",a.jsx("span",{className:"font-mono",children:"ws://192.168.1.36:3000/ws"})]})]}):null,"HOST"===v?a.jsx("div",{className:"mt-4 text-xs text-amber-300 font-black",children:e("This device is HOST. Keep it running during service.","This device is HOST. Keep it running during service.")}):null,u?(0,a.jsxs)("div",{className:"mt-4 text-xs font-black text-zinc-300",children:[e("STATUS","STATUS"),":"," ",a.jsx("span",{className:["px-2 py-1 rounded border text-[10px] font-black","CONNECTED"===u?"border-green-600 bg-green-900/25 text-green-200":"CONNECTING"===u?"border-amber-600 bg-amber-900/25 text-amber-200":"border-zinc-700 bg-zinc-900/40 text-zinc-300"].join(" "),children:e(u,u)})]}):null]}),a.jsx("div",{className:"text-xs text-zinc-500",children:e("Later: we’ll use this role + code to auto-discover a LAN host (wired/Wi-Fi) and sync state without internet.","Later: we’ll use this role + code to auto-discover a LAN host (wired/Wi-Fi) and sync state without internet.")})]})]})}},272:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/rohitchandnani/tasting-pos/app/device/page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let o=(0,a.createProxy)(String.raw`/Users/rohitchandnani/tasting-pos/app/device/page.tsx#default`)},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(6621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,982,621,724],()=>s(8417));module.exports=a})();