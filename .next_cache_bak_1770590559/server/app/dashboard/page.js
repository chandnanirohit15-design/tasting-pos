(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9260:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(9521),s(2758),s(5866);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9521)),"/Users/rohitchandnani/tasting-pos/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2758)),"/Users/rohitchandnani/tasting-pos/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/rohitchandnani/tasting-pos/app/dashboard/page.tsx"],x="/dashboard/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5711:(e,t,s)=>{Promise.resolve().then(s.bind(s,7581))},7581:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(326),r=s(7577),n=s.n(r),l=s(579),i=s(2854);function d(e){return e?.courseLines?.length&&(e.courseLines.find(e=>"FIRED"===e.status)||e.courseLines.find(e=>"PENDING"===e.status))||null}function c(){let{t:e}=(0,i.Q)(),{tables:t,hasAllergyFlag:s}=(0,l.mr)(),[r,d]=n().useState(""),[c,x]=n().useState("ALL"),[u,m]=n().useState("ATTENTION"),[h,b]=n().useState(()=>Date.now()),g=n().useMemo(()=>t.filter(e=>"SEATED"===e.reservationStatus),[t]),N=n().useMemo(()=>{let e=g.filter(e=>(e.setup?.approval??"NONE")==="PENDING").length,t=g.filter(e=>(e.setup?.approval??"NONE")==="APPROVED").length,a=g.filter(e=>!!e.setup?.paused).length,r=g.filter(e=>!!e.setup?.pairing).length,n=g.filter(e=>s(e)).length;return{seated:g.length,pending:e,approved:t,paused:a,pairing:r,allergy:n}},[g,s]),f=n().useMemo(()=>{let e=r.trim().toLowerCase();return[...g.filter(t=>!e||(t.name||"").toLowerCase().includes(e)||(t.reservationName||"").toLowerCase().includes(e))].sort((e,t)=>(0,l.pJ)(t,h)-(0,l.pJ)(e,h)).filter(e=>{let t=e.setup;return"ALL"===c||("PAUSED"===c?!!t?.paused:"APPROVAL"===c?!!t&&"APPROVED"!==t.approval:"ATTN"!==c||(0,l.mX)(e,h).length>0)})},[g,r,c,h]);return(0,a.jsxs)("div",{className:"h-full w-full bg-[#0f0f12] p-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-end justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-black text-white",children:e("Dashboard","Dashboard")}),a.jsx("div",{className:"text-sm text-zinc-400 mt-1",children:e("Real-time insights (UI-only).","Real-time insights (UI-only).")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-xs font-black text-zinc-400",children:e("FILTER","FILTER")}),(0,a.jsxs)("select",{value:c,onChange:e=>x(e.target.value),className:"rounded-xl bg-black/60 border border-zinc-800 text-white px-3 py-2 text-xs font-black outline-none",children:[a.jsx("option",{value:"ALL",children:e("ALL","ALL")}),a.jsx("option",{value:"ATTN",children:e("NEEDS ATTENTION","NEEDS ATTENTION")}),a.jsx("option",{value:"PAUSED",children:e("PAUSED","PAUSED")}),a.jsx("option",{value:"APPROVAL",children:e("WAITING APPROVAL","WAITING APPROVAL")})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex gap-2",children:[a.jsx("button",{onClick:()=>m("ATTENTION"),className:["px-4 py-2 rounded-xl text-xs font-black border transition","ATTENTION"===u?"bg-amber-500 text-black border-amber-400":"bg-zinc-950 text-zinc-200 border-zinc-800 hover:bg-zinc-900"].join(" "),children:e("ATTENTION","ATTENTION")}),a.jsx("button",{onClick:()=>m("PROGRESS"),className:["px-4 py-2 rounded-xl text-xs font-black border transition","PROGRESS"===u?"bg-amber-500 text-black border-amber-400":"bg-zinc-950 text-zinc-200 border-zinc-800 hover:bg-zinc-900"].join(" "),children:e("PROGRESS BOARD","PROGRESS BOARD")})]}),"ATTENTION"===u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-5 grid grid-cols-6 gap-3",children:[a.jsx(v,{label:e("SEATED","SEATED"),value:N.seated}),a.jsx(v,{label:e("APPROVED","APPROVED"),value:N.approved}),a.jsx(v,{label:e("PENDING","PENDING"),value:N.pending}),a.jsx(v,{label:e("PAUSED","PAUSED"),value:N.paused}),a.jsx(v,{label:e("PAIRING","PAIRING"),value:N.pairing}),a.jsx(v,{label:e("ALLERGY","ALLERGY"),value:N.allergy})]}),a.jsx("div",{className:"mt-5 flex flex-wrap items-center gap-3",children:a.jsx("div",{className:"flex-1 min-w-[240px]",children:a.jsx("input",{value:r,onChange:e=>d(e.target.value),placeholder:e("Search table or reservation…","Search table or reservation…"),className:"w-full rounded-xl bg-black border border-zinc-800 text-white px-4 py-3 text-sm outline-none focus:border-amber-500"})})}),a.jsx("div",{className:"mt-6 grid grid-cols-4 gap-4",children:0===f.length?a.jsx("div",{className:"col-span-4 rounded-2xl border border-zinc-800 bg-zinc-900/40 p-6 text-zinc-500",children:e("No seated tables.","No seated tables.")}):f.map(e=>a.jsx(o,{table:e,now:h},e.id))})]}):a.jsx(p,{tables:t,now:h,filter:c})]});function v({label:e,value:t}){return(0,a.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/30 p-4",children:[a.jsx("div",{className:"text-[11px] font-black tracking-widest text-zinc-400",children:e}),a.jsx("div",{className:"text-2xl font-black text-white mt-1",children:t})]})}}function o({table:e,now:t}){let{t:s}=(0,i.Q)(),r=e.setup,n=(0,l.mX)(e,t),d=r?.courseLines?.find(e=>"FIRED"===e.status)||null,c=e.seatedAt?t-e.seatedAt:0;return(0,a.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-950/40 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"text-white font-black",children:[e.name," ",a.jsx("span",{className:"text-zinc-400",children:e.reservationName||""})]}),(0,a.jsxs)("div",{className:"text-xs font-black text-zinc-300",children:[Math.floor(c/6e4),":",String(Math.floor(c%6e4/1e3)).padStart(2,"0")]})]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.tableLanguage?a.jsx(x,{children:e.tableLanguage}):null,r?.paused?a.jsx(x,{tone:"red",children:s("PAUSED","PAUSED")}):null,r?.pairing?a.jsx(x,{tone:"indigo",children:s("SLOW PACE","SLOW PACE")}):null,r&&"APPROVED"!==r.approval?a.jsx(x,{tone:"amber",children:s("WAITING APPROVAL","WAITING APPROVAL")}):null]}),a.jsx("div",{className:"mt-3 text-sm text-zinc-200",children:d?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-zinc-400 font-mono text-xs",children:s("NOW","NOW")})," ",(0,a.jsxs)("span",{className:"font-black",children:["#",d.idx]})," ",d.name]}):a.jsx("span",{className:"text-zinc-500",children:s("Nothing fired","Nothing fired")})}),n.length?a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:n.map(e=>a.jsx(x,{tone:"amber",children:s(e.replaceAll("_"," "),e.replaceAll("_"," "))},e))}):null]})}function x({children:e,tone:t}){return a.jsx("div",{className:`px-2 py-1 rounded-lg border text-[10px] font-black ${"red"===t?"border-red-700 bg-red-900/20 text-red-200":"indigo"===t?"border-indigo-700 bg-indigo-900/20 text-indigo-200":"amber"===t?"border-amber-500/50 bg-amber-500/10 text-amber-200":"border-zinc-800 bg-black/40 text-zinc-200"}`,children:e})}function p({tables:e,now:t,filter:s}){let{t:r}=(0,i.Q)(),n=[...e.filter(e=>"SEATED"===e.reservationStatus)].sort((e,s)=>{let a=d(e.setup)?.idx??9999,r=d(s.setup)?.idx??9999;if(a!==r)return a-r;let n=e.seatedAt?t-e.seatedAt:0;return(s.seatedAt?t-s.seatedAt:0)-n}).filter(e=>{let a=e.setup;return"ALL"===s||("PAUSED"===s?!!a?.paused:"APPROVAL"===s?!!a&&"APPROVED"!==a.approval:"ATTN"!==s||(0,l.mX)(e,t).length>0)});return a.jsx("div",{className:"mt-5 grid grid-cols-3 gap-4",children:n.map(e=>{let s=e.setup,n=d(s),l=function(e){let t=e?.courseLines||[],s=t.length||0;return{total:s,done:t.filter(e=>"DONE"===e.status).length,fired:t.filter(e=>"FIRED"===e.status).length,pending:t.filter(e=>"PENDING"===e.status).length}}(s),i=e.seatedAt?t-e.seatedAt:0;return(0,a.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-950/40 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"text-white font-black",children:[e.name," ",a.jsx("span",{className:"text-zinc-400",children:e.reservationName||""})]}),(0,a.jsxs)("div",{className:"text-xs font-black text-zinc-300",children:[Math.floor(i/6e4),":",String(Math.floor(i%6e4/1e3)).padStart(2,"0")]})]}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.tableLanguage?a.jsx(x,{children:e.tableLanguage}):null,s?.paused?a.jsx(x,{tone:"red",children:r("PAUSED","PAUSED")}):null,s?.pairing?a.jsx(x,{tone:"indigo",children:r("SLOW PACE","SLOW PACE")}):null,s&&"APPROVED"!==s.approval?a.jsx(x,{tone:"amber",children:r("WAITING APPROVAL","WAITING APPROVAL")}):null]}),(0,a.jsxs)("div",{className:"mt-3 rounded-xl border border-zinc-800 bg-black/30 p-3",children:[a.jsx("div",{className:"text-xs text-zinc-500 font-black",children:r("CURRENT","CURRENT")}),n?(0,a.jsxs)("div",{className:"mt-1 text-sm text-white font-black",children:["#",n.idx," ",n.name,a.jsx("span",{className:"ml-2 text-[10px] font-black px-2 py-1 rounded-lg border border-zinc-800 bg-black/40 text-zinc-200",children:r(n.status,n.status)})]}):a.jsx("div",{className:"mt-1 text-sm text-zinc-500",children:r("No courses","No courses")})]}),(0,a.jsxs)("div",{className:"mt-3 grid grid-cols-4 gap-2",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-black/30 p-2",children:[a.jsx("div",{className:"text-[10px] text-zinc-500 font-black",children:r("DONE","DONE")}),a.jsx("div",{className:"text-sm font-black text-white",children:l.done})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-black/30 p-2",children:[a.jsx("div",{className:"text-[10px] text-zinc-500 font-black",children:r("FIRED","FIRED")}),a.jsx("div",{className:"text-sm font-black text-white",children:l.fired})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-black/30 p-2",children:[a.jsx("div",{className:"text-[10px] text-zinc-500 font-black",children:r("PEND","PEND")}),a.jsx("div",{className:"text-sm font-black text-white",children:l.pending})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-black/30 p-2",children:[a.jsx("div",{className:"text-[10px] text-zinc-500 font-black",children:r("TOTAL","TOTAL")}),a.jsx("div",{className:"text-sm font-black text-white",children:l.total})]})]})]},e.id)})})}},9521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/rohitchandnani/tasting-pos/app/dashboard/page.tsx`),{__esModule:n,$$typeof:l}=r;r.default;let i=(0,a.createProxy)(String.raw`/Users/rohitchandnani/tasting-pos/app/dashboard/page.tsx#default`)},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(6621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,982,621,724],()=>s(9260));module.exports=a})();